\documentclass[a4paper,11pt]{article}

% Shared page margin
\newcommand{\pagemargin}{1.8cm}

\usepackage[margin=\pagemargin]{geometry}
\usepackage{tikz}
\usetikzlibrary{shadows}
\usepackage[hidelinks]{hyperref}
\usepackage{enumitem}
\usepackage{amssymb}
\usepackage{graphicx}
\pagestyle{empty}
\usepackage[default]{lato}


\setlength{\parindent}{0pt}
\setlist[itemize]{leftmargin=8pt, itemsep=1pt, topsep=1pt, labelsep=3pt, label=\raisebox{0.25ex}{\scalebox{0.7}{\textbullet}}}

\definecolor{accent}{HTML}{1F4E79}
\definecolor{textgray}{gray}{0.25}
\definecolor{boxyellow}{HTML}{FFF176}

% Shared size for the profile image box
\newcommand{\imageboxsize}{4.2cm}

\newcommand{\colgap}{0.04\textwidth}
\newcommand{\leftcolwidth}{0.68\textwidth}
\newcommand{\rightcolwidth}{\dimexpr\textwidth-\leftcolwidth-\colgap\relax}
% Sidebar width: right column plus one page margin (overlay is in page coords)
\newcommand{\sidebarwidth}{\dimexpr\rightcolwidth+\pagemargin\relax}

% Reusable drop shadow style
\tikzset{
  box shadow/.style={
    drop shadow={shadow xshift=1pt, shadow yshift=0pt, fill=black!15},
    drop shadow={shadow xshift=0.707pt, shadow yshift=0.707pt, fill=black!15},
    drop shadow={shadow xshift=0pt, shadow yshift=1pt, fill=black!15},
    drop shadow={shadow xshift=-0.707pt, shadow yshift=0.707pt, fill=black!15},
    drop shadow={shadow xshift=-1pt, shadow yshift=0pt, fill=black!15},
    drop shadow={shadow xshift=-0.707pt, shadow yshift=-0.707pt, fill=black!15},
    drop shadow={shadow xshift=0pt, shadow yshift=-1pt, fill=black!15},
    drop shadow={shadow xshift=0.707pt, shadow yshift=-0.707pt, fill=black!15},
    drop shadow={shadow xshift=2pt, shadow yshift=-2pt, fill=black!10},
    drop shadow={shadow xshift=3pt, shadow yshift=-3pt, fill=black!5}
  }
}

% Star rating command
\newcommand{\starrating}[1]{%
  \ifnum#1=3 $\bigstar$ $\bigstar$ $\bigstar$\fi
  \ifnum#1=2 $\bigstar$ $\bigstar$ $\scalebox{1.2}{$\star$}$\fi
}

% Title box: yellow border, no fill, black text, full column width
\newcommand{\boxedtitle}[1]{%
  \tikz[baseline=(t.base)]{
    \node[
      draw=boxyellow,
      fill=white,   % was: fill=none
      text=black,
      line width=2pt,
      inner xsep=6pt,
      inner ysep=4pt,
      rounded corners=2pt,
      text width=\linewidth,
      align=left,
      box shadow
    ] (t) {\bfseries #1};
  }%
}

% Content box: black border, no fill, gray text, auto height
\newcommand{\boxedcontent}[1]{%
  \tikz[baseline=(c.base)]{
    \node[
      draw=white,
      fill=white,   % was: fill=none
      text=textgray,
      line width=1pt,
      inner xsep=6pt,
      inner ysep=6pt,
      rounded corners=2pt,
      text width=\linewidth,
      align=left,
      box shadow
    ] (c) {#1};
  }%
}

% Image box: no border, no padding, image gets cropped by rounded corners, square format
\newcommand{\boxedimage}[1]{%
  \tikz[baseline=(i.base)]{
    \node[
      draw=white,
      fill=none,
      inner xsep=0pt,
      inner ysep=0pt,
      rounded corners=2pt,
      align=center,
      minimum width=\dimexpr\imageboxsize-2mm\relax,
      minimum height=\dimexpr\imageboxsize-2mm\relax,
      path picture={
        \clip[rounded corners=2pt] (path picture bounding box.south west) rectangle (path picture bounding box.north east);
        \node[anchor=center,inner sep=0pt,outer sep=0pt] at (path picture bounding box.center) {#1};
      },
      box shadow
    ] (i) {};
  }%
}

\begin{document}

% --- Right sidebar background with TikZ (only decoration) ---
\begin{tikzpicture}[remember picture,overlay]
  \fill[accent!8]
    (current page.north east)
    rectangle ++(-\sidebarwidth,-\paperheight);
\end{tikzpicture}

% --- Header (normal LaTeX) ---
\noindent
\begin{minipage}[t]{\leftcolwidth}
  \centering
  {\LARGE\bfseries Marc Maetz}\\[2pt]
  {\large Software Engineer}
\end{minipage}%
\hfill
\begin{minipage}[t]{\rightcolwidth}
  \centering
  \boxedimage{%
    \includegraphics[width=\imageboxsize,height=\imageboxsize]{Marc.jpg}
  }
\end{minipage}

\vspace{0.8cm}

% --- Two-column layout with minipages ---
\noindent
\begin{minipage}[t]{\leftcolwidth}
  \raggedright

  \boxedtitle{Skills}\\[2pt]
  \boxedcontent{%
    \begin{minipage}[t]{0.48\textwidth}
      \raggedright
      \starrating{3}\\[2pt]
      NodeJS, TypeScript, Express\\
      C, C\texttt{++}, Java, Python, R\\
      Google Cloud Platform (GCP)\\
      Microservices, APIs, Databases\\
    \end{minipage}%
    \hfill
    \begin{minipage}[t]{0.48\textwidth}
      \raggedright
      \starrating{2}\\[2pt]
      Performance optimisation\\
      Complex algorithms\\
      Linux\\
      High-performance computing\\
    \end{minipage}
  }

  \vspace{0.7cm}

  \boxedtitle{Experience}\\[2pt]
  \boxedcontent{%
    \textbf{Backend Software Engineer (TypeScript, Python)} -- Yokoy -- Finance\\[2pt]
    {\small\textcolor{textgray}{\textit{2022-05 / now, Zurich (CH)}}}\\[2pt]
    \begin{itemize}[leftmargin=*, itemsep=2pt, label={}]
      \item Scaled a microservice backend for a smart card payment platform by an order of magnitude
      \item Built internal tooling to speed up incident investigation and resolution
      \item Operated in a fast-paced, agile, cross-functional team
      \item Took ownership from problem framing to solution delivery
    \end{itemize}
  }

  \vspace{0.3cm}

  \boxedcontent{%
    \textbf{Software Engineer (C)} -- AutoForm -- Mechanical Engineering\\[2pt]
    {\small\textcolor{textgray}{\textit{2018-05 / 2022-05, Zurich (CH)}}}\\[2pt]
    \begin{itemize}[leftmargin=*, itemsep=2pt, label={}]
      \item Developed performance-critical algorithms for sheet metal forming simulations
      \item Focused on numerical robustness and computational efficiency
    \end{itemize}
  }

  \vspace{0.3cm}

  \boxedcontent{%
    \textbf{Software Developer (Java)} -- Unitek Engineering -- Finance\\[2pt]
    {\small\textcolor{textgray}{\textit{2017-09 / 2018-03, Zurich (CH)}}}\\[2pt]
    \begin{itemize}[leftmargin=*, itemsep=2pt, label={}]
      \item Built adapters to integrate and expose external fund information
    \end{itemize}
  }

  \vspace{0.3cm}

  \boxedcontent{%
    \textbf{R\&D Intern (MATLAB)} -- KIER -- Mechanical Engineering\\[2pt]
    {\small\textcolor{textgray}{\textit{2014-09 / 2014-10, Daejeon (KR)}}}\\[2pt]
    \begin{itemize}[leftmargin=*, itemsep=2pt, label={}]
      \item Contributed to simulation and analysis for solar concentrator research
    \end{itemize}
  }

\end{minipage}%
\hfill
\begin{minipage}[t]{\rightcolwidth}
  \raggedright

  \boxedtitle{Contact}\\[2pt]
  \boxedcontent{%
    marc.maetz@proton.me\\
    +41 77 434 15 25\\
    Zurich, Switzerland\\
    Swiss and French citizen\\
    \href{https://linkedin.com/in/marc-maetz}{linkedin.com/in/marc-maetz}
  }

  \vspace{0.7cm}

  \boxedtitle{Languages}\\[2pt]
  \boxedcontent{%
    German (native)\\
    French (native)\\
    English (C1)
  }

  \vspace{0.7cm}

  \boxedtitle{Education}\\[2pt]
  \boxedcontent{%
    \textbf{ETH Zurich, Master of Science}\\
    Computational Science and \\Engineering
  } \\ \vspace{0.1cm}

    \boxedcontent{%
    \textbf{ETH Zurich, Bachelor of Science}\\
    Physics
  }
  \\
  \vspace{0.1cm}
    \boxedcontent{%
    \textbf{KTH Stockholm}\\
    Exchange semester
  }

  \vspace{0.7cm}

  \boxedtitle{Beyond work}\\[2pt]
  \boxedcontent{%
    Amateur theatre\\
    Running, cycling\\
    Gym\\
    Climbing, mountaineering
  }

\end{minipage}

\end{document}

