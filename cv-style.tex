% Shared LaTeX setup and styling for CV documents

% Shared page margin
\newcommand{\pagemargin}{1.2cm}
\newcommand{\topmarginone}{0.5cm}

\usepackage[top=\topmarginone, bottom=\pagemargin, left=\pagemargin, right=\pagemargin]{geometry}
\usepackage{tikz}
\usetikzlibrary{shadows}
\usepackage[hidelinks]{hyperref}
\usepackage{enumitem}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{fontawesome5}
\pagestyle{empty}
\usepackage[default]{lato}


\setlength{\parindent}{0pt}
\setlist[itemize]{leftmargin=8pt, itemsep=2pt, topsep=1pt, labelsep=3pt, label=\raisebox{0.25ex}{\scalebox{0.7}{\textbullet}}}

\definecolor{accent}{HTML}{1F4E79}
\definecolor{textgray}{gray}{0.25}
\definecolor{boxcolor}{HTML}{286F8C}

% Shared size for the profile image box
\newcommand{\imageboxsize}{3.5cm}

% Column widths: define in terms of textwidth (for minipages)
\newcommand{\colgap}{0.04\textwidth}
\newlength{\leftcolwidth}
\setlength{\leftcolwidth}{0.65\textwidth}
\newcommand{\rightcolwidth}{\dimexpr\textwidth-\leftcolwidth-\colgap\relax}
% Sidebar width: convert textwidth-based right column to paperwidth coords for overlay
% The sidebar starts from page right edge and should cover: right column + half gap + margin
\newlength{\rightcolwidthabs}
\newlength{\colgapabs}
\setlength{\rightcolwidthabs}{\rightcolwidth}
\setlength{\colgapabs}{\colgap}
\newcommand{\sidebarwidth}{\dimexpr\rightcolwidthabs+\colgapabs/6+\pagemargin\relax}

% Reusable drop shadow style
\tikzset{
  box shadow/.style={
    drop shadow={shadow xshift=1pt, shadow yshift=0pt, fill=black!15},
    drop shadow={shadow xshift=0.707pt, shadow yshift=0.707pt, fill=black!15},
    drop shadow={shadow xshift=0pt, shadow yshift=1pt, fill=black!15},
    drop shadow={shadow xshift=-0.707pt, shadow yshift=0.707pt, fill=black!15},
    drop shadow={shadow xshift=-1pt, shadow yshift=0pt, fill=black!15},
    drop shadow={shadow xshift=-0.707pt, shadow yshift=-0.707pt, fill=black!15},
    drop shadow={shadow xshift=0pt, shadow yshift=-1pt, fill=black!15},
    drop shadow={shadow xshift=0.707pt, shadow yshift=-0.707pt, fill=black!15},
    drop shadow={shadow xshift=2pt, shadow yshift=-2pt, fill=black!10},
    drop shadow={shadow xshift=3pt, shadow yshift=-3pt, fill=black!5}
  }
}

% Star rating command
\newcommand{\starrating}[1]{%
  \ifnum#1=3 $\bigstar$ $\bigstar$ $\bigstar$\fi
  \ifnum#1=2 $\bigstar$ $\bigstar$ $\scalebox{1.2}{$\star$}$\fi
}

% Title box: navy blue fill, white text, full column width
\newcommand{\boxedtitle}[1]{%
  \tikz[baseline=(t.base)]{
    \node[
      draw=boxcolor,
      fill=boxcolor,
      text=white,
      line width=2pt,
      inner xsep=6pt,
      inner ysep=4pt,
      rounded corners=2pt,
      text width=\linewidth,
      align=left,
      box shadow
    ] (t) {\bfseries #1};
  }%
}

% Content box: black border, no fill, gray text, auto height
\newcommand{\boxedcontent}[1]{%
  \tikz[baseline=(c.base)]{
    \node[
      draw=white,
      fill=white,   % was: fill=none
      text=textgray,
      line width=1pt,
      inner xsep=6pt,
      inner ysep=6pt,
      rounded corners=2pt,
      text width=\linewidth,
      align=left,
      box shadow
    ] (c) {#1};
  }%
}

% Image box: no border, no padding, image gets cropped by rounded corners, square format
\newcommand{\boxedimage}[1]{%
  \tikz[baseline=(i.base)]{
    \node[
      draw=white,
      fill=none,
      inner xsep=0pt,
      inner ysep=0pt,
      rounded corners=2pt,
      align=center,
      minimum width=\dimexpr\imageboxsize-2mm\relax,
      minimum height=\dimexpr\imageboxsize-2mm\relax,
      path picture={
        \clip[rounded corners=2pt] (path picture bounding box.south west) rectangle (path picture bounding box.north east);
        \node[anchor=center,inner sep=0pt,outer sep=0pt] at (path picture bounding box.center) {#1};
      },
      box shadow
    ] (i) {};
  }%
}

% Skill group: icon + content in aligned minipages
% Usage: \skillgroup{icon}{content}
\newcommand{\skillgroup}[2]{%
  \begin{minipage}[t]{1.5em}
    #1
  \end{minipage}%
  \begin{minipage}[t]{\dimexpr\linewidth-1.5em-0.3em\relax}
    #2
  \end{minipage}\\[3pt]
}

